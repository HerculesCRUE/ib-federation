<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ORCIDHandler.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Archetype - Java JPA Rest API - Service</a> &gt; <a href="index.source.html" class="el_package">es.um.asio.service.repository.lod.connectors</a> &gt; <span class="el_source">ORCIDHandler.java</span></div><h1>ORCIDHandler.java</h1><pre class="source lang-java linenums">package es.um.asio.service.repository.lod.connectors;

import com.google.gson.JsonArray;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import es.um.asio.service.config.LodDataSet;
import es.um.asio.service.model.TripleObjectLink;
import es.um.asio.service.model.TripleObjectSimplified;
import es.um.asio.service.service.impl.TextHandlerServiceImp;
import es.um.asio.service.util.Utils;
import org.jsoup.Connection;
import org.springframework.stereotype.Repository;

import java.io.UnsupportedEncodingException;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.*;

@Repository
<span class="fc" id="L20">public class ORCIDHandler implements LODHandler {</span>

    public static final String DATASET = &quot;ORCID&quot;;

    @Override
    public Set&lt;TripleObjectLink&gt; findLink(TripleObjectSimplified tos, LodDataSet.Dataset dataset, TextHandlerServiceImp textHandlerService) {
<span class="nc" id="L26">        Set&lt;TripleObjectLink&gt; result = new HashSet&lt;&gt;();</span>
        try {
<span class="nc" id="L28">            boolean isCompleted = false;</span>
<span class="nc" id="L29">            LodDataSet.Dataset prunedDataset =</span>
<span class="nc" id="L30">                    dataset.getPrunedDatasetSortedFilteredByConnectionType(</span>
<span class="nc" id="L31">                            Arrays.asList(new LodDataSet.Dataset.Connection.ConnectionType [] {</span>
                                    LodDataSet.Dataset.Connection.ConnectionType.API
                            }
                            )
                    );
<span class="nc bnc" id="L36" title="All 2 branches missed.">            for (LodDataSet.Dataset.Connection con : prunedDataset.getConnections()) {</span>
<span class="nc" id="L37">                result = handleAPIRequest(con,tos, textHandlerService);</span>
<span class="nc" id="L38">                return result;</span>
            }
<span class="nc" id="L40">        } catch (CloneNotSupportedException e) {</span>
<span class="nc" id="L41">            e.printStackTrace();</span>
<span class="nc" id="L42">        }</span>

<span class="nc" id="L44">        return result;</span>
    }

    private Set&lt;TripleObjectLink&gt; handleAPIRequest(LodDataSet.Dataset.Connection con, TripleObjectSimplified tos,TextHandlerServiceImp textHandlerService) {
<span class="nc" id="L48">        Set&lt;TripleObjectLink&gt; results = new HashSet&lt;&gt;();</span>
        try {
<span class="nc" id="L50">            LodDataSet.Dataset.Connection connection = con.getPrunedConnectionByTripleObjectSimplified(tos);</span>
<span class="nc" id="L51">            String apiKey = connection.getApiKey();</span>
<span class="nc bnc" id="L52" title="All 2 branches missed.">            for (LodDataSet.Dataset.Connection.Mapping mapping : connection.getSortedMappings()) {</span>
<span class="nc" id="L53">                URL url = buildURL(Arrays.asList(new String[] {</span>
<span class="nc" id="L54">                        connection.getBaseURL(),</span>
<span class="nc" id="L55">                        mapping.getSuffixURL()</span>
                }));
<span class="nc bnc" id="L57" title="All 2 branches missed.">                for (LodDataSet.Dataset.Connection.Mapping.LocalClass lc : mapping.getLocalClasses()) {</span>
<span class="nc bnc" id="L58" title="All 2 branches missed.">                    if (mapping.isIdentifier()) {</span>
<span class="nc" id="L59">                        Object value = tos.getAttributeValue(tos.getAttributes(), lc.getAttributes());</span>
<span class="nc bnc" id="L60" title="All 2 branches missed.">                        if (Utils.isValidString(value.toString())) {</span>
<span class="nc" id="L61">                            String orcid = value.toString();</span>
<span class="nc" id="L62">                            JsonObject jMasterAttributes = new JsonObject();</span>
<span class="nc" id="L63">                            jMasterAttributes.addProperty(&quot;mOrcid&quot;,orcid);</span>
<span class="nc" id="L64">                            jMasterAttributes.addProperty(&quot;baseURL&quot;,connection.getBaseURL());</span>
<span class="nc" id="L65">                            Set&lt;TripleObjectLink&gt; resultsAux = getDataWithIdentifier(tos,con,mapping,lc,orcid,jMasterAttributes);</span>
<span class="nc bnc" id="L66" title="All 4 branches missed.">                            if (resultsAux == null || resultsAux.size() == 0)</span>
<span class="nc" id="L67">                                continue;</span>
                            else {
<span class="nc" id="L69">                                results.addAll(resultsAux);</span>
<span class="nc" id="L70">                                return results;</span>
                            }
                        } else
                            continue;
                    } else {
<span class="nc" id="L75">                        List&lt;String&gt; localAttributes = lc.getAttributes();</span>
<span class="nc" id="L76">                        Object value = &quot;&quot;;</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">                        if (tos.getAttributeValue(tos.getAttributes(), &quot;name&quot;) != null) {</span>
<span class="nc" id="L78">                            value = tos.getAttributeValue(tos.getAttributes(), &quot;name&quot;);</span>
                        } else {
<span class="nc" id="L80">                            Object firstName = tos.getAttributeValue(tos.getAttributes(), &quot;firstName&quot;);</span>
<span class="nc" id="L81">                            Object lastName = tos.getAttributeValue(tos.getAttributes(), &quot;surname&quot;);</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">                            if (firstName != null) {</span>
<span class="nc" id="L83">                                value = firstName.toString();</span>
                            }
<span class="nc bnc" id="L85" title="All 2 branches missed.">                            if (lastName != null) {</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">                                if (Utils.isValidString(firstName.toString())) {</span>
<span class="nc" id="L87">                                    value = value.toString() + &quot; &quot; + lastName.toString();</span>
                                } else {
<span class="nc" id="L89">                                    value = lastName.toString();</span>
                                }
                            }
<span class="nc" id="L92">                            value = firstName + &quot; &quot; + lastName;</span>
                        }
<span class="nc bnc" id="L94" title="All 2 branches missed.">                        if (Utils.isValidString(value.toString())) {</span>
                            try {
<span class="nc" id="L96">                                Map&lt;String, String&gt; qParams = new HashMap&lt;&gt;();</span>
<span class="nc" id="L97">                                qParams.put(mapping.getRemoteAttribute(), value.toString());</span>
<span class="nc" id="L98">                                qParams.put(&quot;rows&quot;, &quot;1&quot;);</span>
<span class="nc" id="L99">                                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();</span>
<span class="nc" id="L100">                                headers.put(&quot;Accept&quot;, &quot;application/json&quot;);</span>
<span class="nc" id="L101">                                JsonElement jResponse = Utils.doRequest(url, Connection.Method.GET, headers, null, qParams, true);</span>
<span class="nc bnc" id="L102" title="All 8 branches missed.">                                if (jResponse != null &amp;&amp; jResponse.isJsonObject() &amp;&amp; jResponse.getAsJsonObject().has(&quot;expanded-result&quot;) &amp;&amp; jResponse.getAsJsonObject().get(&quot;expanded-result&quot;).isJsonArray()) {</span>


<span class="nc bnc" id="L105" title="All 2 branches missed.">                                    for (JsonElement jeResponseItem : jResponse.getAsJsonObject().get(&quot;expanded-result&quot;).getAsJsonArray()) {</span>
<span class="nc" id="L106">                                        JsonObject jResponseItem = jeResponseItem.getAsJsonObject();</span>
<span class="nc bnc" id="L107" title="All 2 branches missed.">                                        if (jResponseItem.has(&quot;orcid-id&quot;)) {</span>
<span class="nc" id="L108">                                            JsonObject jMasterAttributes = new JsonObject();</span>
<span class="nc" id="L109">                                            String orcid = jResponseItem.get(&quot;orcid-id&quot;).getAsString();</span>
<span class="nc" id="L110">                                            jMasterAttributes.addProperty(&quot;mORCID&quot;,orcid);</span>
<span class="nc" id="L111">                                            jMasterAttributes.addProperty(&quot;baseURL&quot;,connection.getBaseURL());</span>
<span class="nc bnc" id="L112" title="All 2 branches missed.">                                            if (jResponseItem.has(&quot;given-names&quot;))</span>
<span class="nc" id="L113">                                                jMasterAttributes.addProperty(&quot;mFirstName&quot;,jResponseItem.get(&quot;given-names&quot;).getAsString());</span>
<span class="nc bnc" id="L114" title="All 2 branches missed.">                                            if (jResponseItem.has(&quot;family-names&quot;))</span>
<span class="nc" id="L115">                                                jMasterAttributes.addProperty(&quot;mSurname&quot;,jResponseItem.get(&quot;family-names&quot;).getAsString());</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">                                            if (jResponseItem.has(&quot;credit-name&quot;))</span>
<span class="nc" id="L117">                                                jMasterAttributes.addProperty(&quot;mName&quot;,jResponseItem.get(&quot;credit-name&quot;).getAsString());</span>
<span class="nc" id="L118">                                            Set&lt;TripleObjectLink&gt; resultsAux = getDataWithIdentifier(tos, con, mapping, lc, orcid,jMasterAttributes);</span>
<span class="nc bnc" id="L119" title="All 4 branches missed.">                                            if (resultsAux == null || resultsAux.size() == 0)</span>
<span class="nc" id="L120">                                                continue;</span>
                                            else {
<span class="nc" id="L122">                                                results.addAll(resultsAux);</span>
<span class="nc" id="L123">                                                return results;</span>
                                            }
                                        }
<span class="nc" id="L126">                                    }</span>
                                }
<span class="nc" id="L128">                            } catch (Exception e) {</span>
<span class="nc" id="L129">                                continue;</span>
<span class="nc" id="L130">                            }</span>
                        } else {
                            continue;
                        }
                    } // Fin else
<span class="nc" id="L135">                }</span>
<span class="nc" id="L136">            }</span>
<span class="nc" id="L137">        } catch (Exception e) {</span>
<span class="nc" id="L138">            e.printStackTrace();</span>
<span class="nc" id="L139">        }</span>
<span class="nc" id="L140">        return results;</span>
    }


    private Set&lt;TripleObjectLink&gt; getDataWithIdentifier(TripleObjectSimplified tos,LodDataSet.Dataset.Connection con, LodDataSet.Dataset.Connection.Mapping mapping, LodDataSet.Dataset.Connection.Mapping.LocalClass lc, String orcid, JsonObject jMasterAttributes) {
<span class="nc" id="L145">        JsonObject jPersonResponse = doRequestByORCID(con.getBaseURL(),orcid);</span>
<span class="nc bnc" id="L146" title="All 2 branches missed.">        for (Map.Entry&lt;String, JsonElement&gt; jMasterAtt: jMasterAttributes.entrySet()) {</span>
<span class="nc" id="L147">            jPersonResponse.add(jMasterAtt.getKey(),jMasterAtt.getValue());</span>
<span class="nc" id="L148">        }</span>
<span class="nc bnc" id="L149" title="All 2 branches missed.">        if (jPersonResponse==null) {</span>
<span class="nc" id="L150">            return null;</span>
        } else {
<span class="nc" id="L152">            Set&lt;TripleObjectLink&gt; triplesLinks = parseResult(orcid,tos,DATASET, con.getBaseURL(), mapping.getRemoteName(), lc.getName(), jPersonResponse, lc.getMappers());</span>
<span class="nc" id="L153">            return triplesLinks;</span>
        }
    }



    private JsonObject doRequestByORCID(String baseURL,String orcid) {
<span class="nc" id="L160">        JsonObject jResponsePerson = null;</span>
<span class="nc" id="L161">        Map&lt;String,String&gt; headers = new HashMap&lt;&gt;();</span>
<span class="nc" id="L162">        headers.put(&quot;Accept&quot;,&quot;application/json&quot;);</span>
<span class="nc" id="L163">        JsonArray jLinks = new JsonArray();</span>
        try {
<span class="nc" id="L165">            String personUri = baseURL + &quot;/&quot; + orcid + &quot;/person&quot;;</span>
<span class="nc" id="L166">            JsonElement jeResponsePerson = Utils.doRequest(new URL(personUri), Connection.Method.GET, headers, null, null, true);</span>
<span class="nc bnc" id="L167" title="All 4 branches missed.">            if (jeResponsePerson != null &amp;&amp; jeResponsePerson.isJsonObject()) {</span>
<span class="nc" id="L168">                JsonObject jLink = new JsonObject();</span>
<span class="nc" id="L169">                jLink.addProperty(&quot;type&quot;,&quot;person&quot;);</span>
<span class="nc" id="L170">                jLink.addProperty(&quot;link&quot;,personUri);</span>
<span class="nc" id="L171">                jLink.addProperty(&quot;content-type&quot;,&quot;application/json&quot;);</span>
<span class="nc" id="L172">                jLinks.add(jLink);</span>
<span class="nc" id="L173">                jResponsePerson = jeResponsePerson.getAsJsonObject();</span>
<span class="nc" id="L174">                String worksUri = baseURL + &quot;/&quot; + orcid + &quot;/works&quot;;</span>
<span class="nc" id="L175">                JsonElement jeResponseWorks = Utils.doRequest(new URL(worksUri), Connection.Method.GET, headers, null, null, true);</span>
<span class="nc bnc" id="L176" title="All 6 branches missed.">                if (jeResponseWorks != null &amp;&amp; jeResponseWorks.isJsonObject() &amp;&amp; jeResponseWorks.getAsJsonObject().has(&quot;group&quot;)) {</span>
<span class="nc" id="L177">                    JsonObject jLinkWork = new JsonObject();</span>
<span class="nc" id="L178">                    jLinkWork.addProperty(&quot;type&quot;,&quot;work&quot;);</span>
<span class="nc" id="L179">                    jLinkWork.addProperty(&quot;link&quot;,worksUri);</span>
<span class="nc" id="L180">                    jLinkWork.addProperty(&quot;content-type&quot;,&quot;application/json&quot;);</span>
<span class="nc" id="L181">                    jLinks.add(jLinkWork);</span>
<span class="nc" id="L182">                    jResponsePerson.add(&quot;works&quot;, jeResponseWorks.getAsJsonObject().get(&quot;group&quot;));</span>
                }
            }
<span class="nc" id="L185">            jResponsePerson.add(&quot;link&quot;,jLinks);</span>
<span class="nc" id="L186">            return jResponsePerson;</span>
<span class="nc" id="L187">        } catch (Exception e) {</span>

        }
<span class="nc" id="L190">        return jResponsePerson;</span>
    }


    private String buildContentQuery(String remoteAttribute, String value, boolean isIdentifier, boolean removeStopwords,TextHandlerServiceImp textHandlerService) throws UnsupportedEncodingException {
<span class="nc bnc" id="L195" title="All 4 branches missed.">        if (!isIdentifier &amp;&amp; removeStopwords) {</span>
<span class="nc" id="L196">            value = value.replaceAll(&quot;-&quot;,&quot; &quot;);</span>
<span class="nc" id="L197">            value = textHandlerService.removeStopWords(value);</span>
<span class="nc" id="L198">            String [] chunks  = value.split(&quot;  *&quot;);</span>
<span class="nc" id="L199">            value = String.join(&quot; AND &quot;,value.split(&quot;  *&quot;));</span>
            //value = URLEncoder.encode(value, StandardCharsets.UTF_8);
        }
<span class="nc" id="L202">        String formatStr = String.format(&quot;%s(%s)&quot;, remoteAttribute, value);</span>
<span class="nc" id="L203">        return formatStr;</span>
    }

    private URL buildURL(List&lt;String&gt; urlChunks) throws MalformedURLException {
<span class="nc" id="L207">        StringBuffer sb = new StringBuffer();</span>
<span class="nc" id="L208">        List&lt;String&gt; urlCheckedChunks = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L209" title="All 2 branches missed.">        for (String chunk: urlChunks) {</span>
<span class="nc bnc" id="L210" title="All 2 branches missed.">            if (!Utils.isValidString(chunk))</span>
<span class="nc" id="L211">                continue;</span>
<span class="nc bnc" id="L212" title="All 2 branches missed.">            if (chunk.startsWith(&quot;/&quot;)) {</span>
<span class="nc" id="L213">                urlCheckedChunks.add(chunk.substring(1));</span>
<span class="nc bnc" id="L214" title="All 2 branches missed.">            } else if (chunk.endsWith(&quot;/&quot;)) {</span>
<span class="nc" id="L215">                urlCheckedChunks.add(chunk.substring(0,chunk.length()-1));</span>
            } else {
<span class="nc" id="L217">                urlCheckedChunks.add(chunk);</span>
            }

<span class="nc" id="L220">        }</span>
<span class="nc" id="L221">        return new URL(String.join(&quot;/&quot;,urlCheckedChunks));</span>
    }

    private Set&lt;TripleObjectLink&gt; parseResult(String id,TripleObjectSimplified tos,String datasetName, String baseURL, String remoteName, String localClassName, JsonObject jResponse, List&lt;LodDataSet.Dataset.Connection.Mapping.LocalClass.Mapper&gt; mappers) {
<span class="nc" id="L225">        Set&lt;TripleObjectLink&gt; tripleObjectLinks = new HashSet&lt;&gt;();</span>

<span class="nc" id="L227">        JsonObject jMessage = removeValueAttributesAndAddLinks(jResponse);</span>

<span class="nc" id="L229">        JsonObject jPrefixes = new JsonObject();</span>
<span class="nc" id="L230">        jPrefixes.addProperty(&quot;default&quot;,baseURL+&quot;/&quot;);</span>
<span class="nc" id="L231">        JsonArray jLinks = new JsonArray();</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">        if (jMessage!=null) {</span>
<span class="nc bnc" id="L233" title="All 2 branches missed.">            if (jMessage.has(&quot;link&quot;)) {</span>
<span class="nc bnc" id="L234" title="All 2 branches missed.">                for (JsonElement jeLinks :jMessage.get(&quot;link&quot;).getAsJsonArray()) {</span>
<span class="nc" id="L235">                    JsonObject jLink = new JsonObject();</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">                    if (jeLinks.getAsJsonObject().has(&quot;type&quot;)) {</span>
<span class="nc" id="L237">                        jLink.addProperty(&quot;type&quot;,jeLinks.getAsJsonObject().get(&quot;type&quot;).getAsString());</span>
                    }
<span class="nc bnc" id="L239" title="All 2 branches missed.">                    if (jeLinks.getAsJsonObject().has(&quot;link&quot;)) {</span>
<span class="nc" id="L240">                        jLink.addProperty(&quot;link&quot;,jeLinks.getAsJsonObject().get(&quot;link&quot;).getAsString());</span>
                    }
<span class="nc bnc" id="L242" title="All 2 branches missed.">                    if (jeLinks.getAsJsonObject().has(&quot;content-type&quot;)) {</span>
<span class="nc" id="L243">                        jLink.addProperty(&quot;content-type&quot;,jeLinks.getAsJsonObject().get(&quot;content-type&quot;).getAsString());</span>
                    }
<span class="nc bnc" id="L245" title="All 2 branches missed.">                    if (jeLinks.getAsJsonObject().has(&quot;content-version&quot;)) {</span>
<span class="nc" id="L246">                        jLink.addProperty(&quot;content-version&quot;,jeLinks.getAsJsonObject().get(&quot;content-version&quot;).getAsString());</span>
                    }
<span class="nc bnc" id="L248" title="All 2 branches missed.">                    if (jLink.size()&gt;0) {</span>
<span class="nc" id="L249">                        jLinks.add(jLink);</span>
                    }
<span class="nc" id="L251">                }</span>
            }
        }
<span class="nc" id="L254">        jMessage.remove(&quot;link&quot;);</span>
<span class="nc" id="L255">        TripleObjectLink tol = new TripleObjectLink(datasetName,baseURL,remoteName,localClassName);</span>
<span class="nc" id="L256">        tol.setOrigin(tos);</span>
<span class="nc" id="L257">        tol.populatePrefixes(jPrefixes);</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">        if (Utils.isValidString(id))</span>
<span class="nc" id="L259">            tol.setId(id);</span>
<span class="nc" id="L260">        tol.populateMapper(mappers);</span>
<span class="nc" id="L261">        tol.populateLinks(jLinks);</span>
<span class="nc" id="L262">        tol.populateAttributes(jMessage);</span>
<span class="nc" id="L263">        tripleObjectLinks.add(tol);</span>


<span class="nc" id="L266">        return tripleObjectLinks;</span>
    }

    private JsonObject removeValueAttributesAndAddLinks(JsonObject jObject) {
<span class="nc" id="L270">        JsonObject jObjectCopy = new JsonObject();</span>
<span class="nc bnc" id="L271" title="All 2 branches missed.">        for (Map.Entry&lt;String, JsonElement&gt; jAttr :jObject.entrySet()) { // para todos los atributos</span>
<span class="nc" id="L272">            String key = jAttr.getKey();</span>
<span class="nc bnc" id="L273" title="All 8 branches missed.">            if (key.equals(&quot;ORCID&quot;) || key.equals(&quot;name&quot;) || key.equals(&quot;firstName&quot;) || key.equals(&quot;surname&quot;)) {</span>
<span class="nc" id="L274">                key = &quot;@&quot;+jAttr.getKey();</span>
            }
<span class="nc bnc" id="L276" title="All 2 branches missed.">            if (jAttr.getValue().isJsonPrimitive()) {</span>
<span class="nc" id="L277">                jObjectCopy.add(key,jAttr.getValue());</span>
            } else {
<span class="nc bnc" id="L279" title="All 2 branches missed.">                if (jAttr.getValue().isJsonObject()) {</span>
<span class="nc bnc" id="L280" title="All 2 branches missed.">                    if (jAttr.getValue().getAsJsonObject().has(&quot;value&quot;)) {</span>
<span class="nc" id="L281">                        jObjectCopy.add(key,jAttr.getValue().getAsJsonObject().get(&quot;value&quot;));</span>
                    } else { // Si es un objeto anidado
<span class="nc" id="L283">                        jObjectCopy.add(key, removeValueAttributesAndAddLinks(jAttr.getValue().getAsJsonObject()));</span>
                    }
<span class="nc bnc" id="L285" title="All 2 branches missed.">                } else if (jAttr.getValue().isJsonArray()) { // Es una lista</span>
<span class="nc" id="L286">                    JsonArray jArray = new JsonArray();</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">                    for (JsonElement jeItem : jAttr.getValue().getAsJsonArray()) {</span>
<span class="nc bnc" id="L288" title="All 2 branches missed.">                        if (jeItem.isJsonPrimitive()) {</span>
<span class="nc" id="L289">                            jArray.add(jeItem);</span>
                        } else {
<span class="nc" id="L291">                            jArray.add(removeValueAttributesAndAddLinks(jeItem.getAsJsonObject()));</span>
                        }
<span class="nc" id="L293">                    }</span>
<span class="nc" id="L294">                    jObjectCopy.add(key,jArray);</span>
<span class="nc bnc" id="L295" title="All 2 branches missed.">                } else if (!jAttr.getValue().isJsonNull()){</span>
<span class="nc" id="L296">                    System.out.println(&quot;Error in parse attribute:&quot;+jAttr.getValue().toString());</span>
                }
            }
<span class="nc" id="L299">        }</span>
<span class="nc" id="L300">        return jObjectCopy;</span>
    }


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>