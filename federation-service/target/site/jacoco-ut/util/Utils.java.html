<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Utils.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Archetype - Java JPA Rest API - Service</a> &gt; <a href="index.source.html" class="el_package">util</a> &gt; <span class="el_source">Utils.java</span></div><h1>Utils.java</h1><pre class="source lang-java linenums">package util;

import com.google.gson.Gson;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import org.apache.commons.lang3.ClassUtils;
import org.apache.commons.lang3.StringUtils;

import java.text.DateFormat;
import java.text.Normalizer;
import java.text.SimpleDateFormat;
import java.time.format.DateTimeFormatter;
import java.util.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
import java.util.stream.Collectors;
import org.apache.commons.validator.routines.UrlValidator;
import org.joda.time.DateTime;

public class Utils {

    private Utils(){}

<span class="nc" id="L24">    static List&lt;String&gt; dateFormats = generateValidFormatDates();</span>
<span class="nc" id="L25">    static List&lt;Locale&gt; locales = generateLocales();</span>

    public static List&lt;String&gt; generateValidFormatDates() {
<span class="nc" id="L28">        List&lt;String&gt; dateFormats = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L29">        dateFormats.addAll(</span>
<span class="nc" id="L30">                generateCombinations(</span>
<span class="nc" id="L31">                &quot;d&quot;,buildListInt(1,2),</span>
<span class="nc" id="L32">                &quot;M&quot;,buildListInt(1,2,3,5),</span>
<span class="nc" id="L33">                &quot;y&quot;,buildListInt(2,4),</span>
<span class="nc" id="L34">                        buildListStr(&quot;.&quot;,&quot;/&quot;,&quot;-&quot;))</span>
        );
<span class="nc" id="L36">        dateFormats.addAll(</span>
<span class="nc" id="L37">                generateCombinations(</span>
<span class="nc" id="L38">                &quot;y&quot;,buildListInt(2,4),</span>
<span class="nc" id="L39">                &quot;M&quot;,buildListInt(1,2,3,5),</span>
<span class="nc" id="L40">                &quot;d&quot;,buildListInt(1,2),</span>
<span class="nc" id="L41">                buildListStr(&quot;.&quot;,&quot;/&quot;,&quot;-&quot;))</span>
        );

<span class="nc" id="L44">        List&lt;String&gt; timeFormats = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L45">        timeFormats.addAll(</span>
<span class="nc" id="L46">                generateCombinationsTime(</span>
<span class="nc" id="L47">                &quot;h&quot;,buildListInt(1,2),</span>
<span class="nc" id="L48">                &quot;m&quot;,buildListInt(1,2,3,5),</span>
<span class="nc" id="L49">                &quot;s&quot;,buildListInt(2,4),</span>
<span class="nc" id="L50">                &quot;S&quot;,buildListInt(0,3),</span>
<span class="nc" id="L51">                buildListStr(&quot;:&quot;))</span>
        );

<span class="nc" id="L54">        timeFormats.addAll(</span>
<span class="nc" id="L55">                generateCombinationsTime(</span>
<span class="nc" id="L56">                &quot;H&quot;,buildListInt(1,2),</span>
<span class="nc" id="L57">                &quot;m&quot;,buildListInt(1,2,3,5),</span>
<span class="nc" id="L58">                &quot;s&quot;,buildListInt(2,4),</span>
<span class="nc" id="L59">                &quot;S&quot;,buildListInt(0,3),</span>
<span class="nc" id="L60">                buildListStr(&quot;:&quot;))</span>
        );

<span class="nc" id="L63">        List&lt;String&gt; formats = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L64" title="All 2 branches missed.">        for (String date: dateFormats) {</span>
<span class="nc" id="L65">            formats.add(date);</span>
<span class="nc bnc" id="L66" title="All 2 branches missed.">            for (String time: timeFormats) {</span>
<span class="nc" id="L67">                formats.add(date+&quot; &quot;+time);</span>
<span class="nc" id="L68">            }</span>
<span class="nc" id="L69">        }</span>
<span class="nc" id="L70">        formats.add(&quot;EEEEE MMMMM yyyy HH:mm:ss.SSSZ&quot;);</span>
<span class="nc" id="L71">        formats.add(&quot;yyyy-MM-dd'T'HH:mm:ss. SSSZ&quot;);</span>
<span class="nc" id="L72">        return formats;</span>
    }

    private static List&lt;Integer&gt; buildListInt(int ... args) {
<span class="nc" id="L76">        List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">        for (int arg : args) {</span>
<span class="nc" id="L78">            ints.add(arg);</span>
        }
<span class="nc" id="L80">        return ints;</span>
    }

    private static List&lt;String&gt; buildListStr(String ... args) {
<span class="nc" id="L84">        return Arrays.asList(args);</span>
    }

    public static List&lt;String&gt; generateCombinations(String c1, List&lt;Integer&gt; rep1, String c2, List&lt;Integer&gt; rep2, String c3, List&lt;Integer&gt; rep3, List&lt;String&gt; separators) {
<span class="nc" id="L88">        List&lt;String&gt; combinations = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L89" title="All 2 branches missed.">        for (String s: separators) {</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">            for (int r1 : rep1) {</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">                for (int r2 : rep2) {</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">                    for (int r3 : rep3) {</span>
<span class="nc" id="L93">                        combinations.add(c1.repeat(r1)+s+c2.repeat(r2)+s+c3.repeat(r3));</span>
<span class="nc" id="L94">                    }</span>
<span class="nc" id="L95">                }</span>
<span class="nc" id="L96">            }</span>
<span class="nc" id="L97">        }</span>
<span class="nc" id="L98">        return combinations;</span>
    }

    public static List&lt;Locale&gt; generateLocales() {
<span class="nc" id="L102">        List&lt;Locale&gt; locales = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L103">        locales.add(new Locale ( &quot;es&quot; , &quot;ES&quot; ));</span>
<span class="nc" id="L104">        locales.add(Locale.US);</span>
<span class="nc" id="L105">        locales.add(Locale.ROOT);</span>
<span class="nc" id="L106">        return locales;</span>
    }

    public static List&lt;String&gt; generateCombinationsTime(String c1, List&lt;Integer&gt; rep1, String c2, List&lt;Integer&gt; rep2, String c3, List&lt;Integer&gt; rep3, String c4, List&lt;Integer&gt; rep4, List&lt;String&gt; separators) {
<span class="nc" id="L110">        List&lt;String&gt; combinations = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L111" title="All 2 branches missed.">        for (String s: separators) {</span>
<span class="nc bnc" id="L112" title="All 2 branches missed.">            for (int r1 : rep1) {</span>
<span class="nc bnc" id="L113" title="All 2 branches missed.">                for (int r2 : rep2) {</span>
<span class="nc bnc" id="L114" title="All 2 branches missed.">                    for (int r3 : rep3) {</span>
<span class="nc bnc" id="L115" title="All 2 branches missed.">                        for (int r4 : rep4) {</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">                            if (r4&gt;0) {</span>
<span class="nc" id="L117">                                combinations.add(c1.repeat(r1) + s + c2.repeat(r2) + s + c3.repeat(r3) + &quot;.&quot; + c4.repeat(r4));</span>
                            } else {
<span class="nc" id="L119">                                combinations.add(c1.repeat(r1) + s + c2.repeat(r2) + s + c3.repeat(r3));</span>
                            }
<span class="nc" id="L121">                        }</span>
<span class="nc" id="L122">                    }</span>
<span class="nc" id="L123">                }</span>
<span class="nc" id="L124">            }</span>
<span class="nc" id="L125">        }</span>
<span class="nc" id="L126">        return combinations;</span>
    }

    public static Map&lt;Locale,List&lt;String&gt;&gt; getStringFormat() {
<span class="nc" id="L130">        Map&lt;Locale,List&lt;String&gt;&gt; formats = new HashMap&lt;&gt;();</span>
<span class="nc" id="L131">        formats.put(Locale.ROOT,new ArrayList&lt;&gt;(buildListStr(&quot;MM/DD/YY&quot;,&quot;DD/MM/YY&quot;,&quot;YY/MM/DD&quot;,&quot;MMM D, YY&quot;,&quot;M/D/YY&quot;,&quot;D/M/YY&quot;,&quot;YY/M/D&quot;,&quot;M/bD/YY&quot;,</span>
                &quot;bD/M/YY&quot;,&quot;YY/M/bD&quot;,&quot;MMDDYY&quot;,&quot;DDMMYY&quot;,&quot;YYMMDD&quot;,&quot;MonDDYY&quot;,&quot;DDMonYY&quot;,&quot;YYMonDD&quot;,&quot;day/YY&quot;,&quot;YY/day&quot;,&quot;D MMM, YY&quot;,&quot;YY, MMM D&quot;,&quot;Mon-DD-YYYY&quot;,&quot;DD-Mon-YYYY&quot;,
                &quot;YYYYY-Mon-DD&quot;,&quot;Mon DD, YYYY&quot;,&quot;DD Mon, YYYY&quot;,&quot;YYYY, Mon DD&quot;,&quot;yyyyMMddZ&quot;,&quot;yyyyMMdd&quot;,&quot;yyyy-MM-dd G&quot;,&quot;yyyy-MM-ddXXX&quot;,&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'['VV']'&quot;,&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;,
                &quot;yyyy-MM-dd'T'HH:mm:ss&quot;,&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;,&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;,&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;,&quot;yyyy-DDDXXX&quot;,
                &quot;YYYY'W'wc&quot;,&quot;YYYY-'W'w-c&quot;,&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX'['VV']'&quot;,&quot;yyyy-MM-dd'T'HH:mm:ssXXX'['VV']'&quot;)));
<span class="nc" id="L136">        formats.put(new Locale ( &quot;es&quot; , &quot;ES&quot; ),new ArrayList&lt;&gt;(Arrays.asList(new String[] {&quot;d/MM/yy&quot;,&quot;d/MM/yy H:mm&quot;,&quot;d.M.yy H:mm&quot;})));</span>
<span class="nc" id="L137">        formats.put(Locale.US,new ArrayList&lt;&gt;(buildListStr(&quot;M/d/yy&quot;,&quot;M/d/yy&quot;,&quot;MM/dd/yy&quot;,&quot;MM-dd-yy&quot;,&quot;M-d-yy&quot;,&quot;MMM d, yyyy&quot;,&quot;MMMM d, yyyy&quot;,&quot;EEEE, MMMM d, yyyy&quot;,&quot;MMM d yyyy&quot;,</span>
                &quot;MMMM d yyyy&quot;,&quot;MM-dd-yyyy&quot;,&quot;M-d-yyyy&quot;,&quot;yyyy-MM-ddXXX&quot;,&quot;dd/MM/yyyy&quot;,&quot;d/M/yyyy&quot;,&quot;MM/dd/yyyy&quot;,&quot;M/d/yyyy&quot;,&quot;yyyy/M/d&quot;,&quot;M/d/yy h:mm a&quot;,
                &quot;MM/dd/yy h:mm a&quot;,&quot;MM-dd-yy h:mm a&quot;,&quot;M-d-yy h:mm a&quot;,&quot;MMM d, yyyy h:mm:ss a&quot;,&quot;EEEE, MMMM d, yyyy h:mm:ss a z&quot;,&quot;EEE MMM dd HH:mm:ss z yyyy&quot;,
                &quot;EEE, d MMM yyyy HH:mm:ss Z&quot;,&quot;d MMM yyyy HH:mm:ss Z&quot;,&quot;MM-dd-yyyy h:mm:ss a&quot;,&quot;M-d-yyyy h:mm:ss a&quot;,&quot;yyyy-MM-dd h:mm:ss a&quot;,&quot;yyyy-M-d h:mm:ss a&quot;,
                &quot;yyyy-MM-dd HH:mm:ss.S&quot;,&quot;dd/MM/yyyy h:mm:ss a&quot;,&quot;d/M/yyyy h:mm:ss a&quot;,&quot;MM/dd/yyyy h:mm:ss a&quot;,&quot;M/d/yyyy h:mm:ss a&quot;,&quot;MM/dd/yy h:mm:ss a&quot;,
                &quot;MM/dd/yy H:mm:ss&quot;,&quot;M/d/yy H:mm:ss&quot;,&quot;dd/MM/yyyy h:mm a&quot;,&quot;d/M/yyyy h:mm a&quot;,&quot;MM/dd/yyyy h:mm a&quot;,&quot;M/d/yyyy h:mm a&quot;,
                &quot;MM-dd-yy h:mm:ss a&quot;,&quot;M-d-yy h:mm:ss a&quot;,&quot;MM-dd-yyyy h:mm a&quot;,&quot;M-d-yyyy h:mm a&quot;,&quot;yyyy-MM-dd h:mm a&quot;,&quot;yyyy-M-d h:mm a&quot;,&quot;MMM.dd.yyyy&quot;,
                &quot;d/MMM/yyyy H:mm:ss Z&quot;,&quot;dd/MMM/yy h:mm a&quot;)));
<span class="nc" id="L145">        formats.put(Locale.UK,new ArrayList&lt;&gt;(buildListStr(&quot;dd MMMM yyyy&quot;,&quot;EEEE, d MMMM yyyy&quot;,&quot;dd-MMM-yyyy&quot;,&quot;dd MMMM yyyy HH:mm:ss z&quot;,&quot;EEEE, d MMMM yyyy HH:mm:ss 'o''clock' z&quot;,</span>
                &quot;dd-MMM-yyyy HH:mm:ss&quot;,&quot;dd-MMM-yyyy HH:mm:ss&quot;,&quot;dd-MMM-yy hh.mm.ss.nnnnnnnnn a&quot;)));
<span class="nc" id="L147">        return formats;</span>
    }


    public static boolean isInteger(String s) {
<span class="nc" id="L152">        String regex = &quot;-?\\d+&quot;;</span>
<span class="nc" id="L153">        return s.trim().matches(regex);</span>
    }

    public static boolean isNumber(String s) {
<span class="nc" id="L157">        String regex = &quot;^-?[1-9]\\d*\\.(\\d+)?$&quot;;</span>
<span class="nc" id="L158">        return s.trim().matches(regex);</span>
    }

    public static boolean isValidNumber(String s) {
<span class="nc bnc" id="L162" title="All 4 branches missed.">        return isInteger(s) || isNumber(s);</span>
    }

    public static boolean isBoolean(String s) {
<span class="nc" id="L166">        String regex = &quot;^(true|false|yes|no|si|s|n)$&quot;;</span>
<span class="nc" id="L167">        return s.trim().toLowerCase().matches(regex);</span>
    }

    public static boolean getBoolean(String s) {
<span class="nc" id="L171">        s = s.strip().toLowerCase();</span>
<span class="nc bnc" id="L172" title="All 8 branches missed.">        if (s.equals(&quot;true&quot;) || s.equals(&quot;yes&quot;) || s.equals(&quot;si&quot;) || s.equals(&quot;s&quot;))</span>
<span class="nc" id="L173">            return true;</span>
<span class="nc bnc" id="L174" title="All 6 branches missed.">        else if (s.equals(&quot;false&quot;) || s.equals(&quot;no&quot;)  || s.equals(&quot;n&quot;))</span>
<span class="nc" id="L175">            return false;</span>
        else {
            try {
<span class="nc" id="L178">                return Boolean.getBoolean(s);</span>
<span class="nc" id="L179">            } catch (Exception e) {</span>
<span class="nc" id="L180">                return false;</span>
            }
        }
    }

    public static boolean isDate(String s) {


<span class="nc" id="L188">        String regex = &quot;[0-9]{2,4}(/|-|\\.)[0-9]{2,4}(/|-|\\.)[0-9]{2,4}((\\s|T)[0-5][0-9]:[0-5][0-9]:[0-5][0-9](Z|\\.[0-9]||\\.[0-9]{2,3})?)?&quot;;</span>
<span class="nc" id="L189">        return s.matches(regex);</span>
    }

    public static Date getDate(String s) {
        try {
<span class="nc" id="L194">            DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);</span>
<span class="nc" id="L195">            Date d = formatter.parse(s);</span>
<span class="nc" id="L196">            return d;</span>
<span class="nc" id="L197">        } catch (Exception e) {</span>
<span class="nc bnc" id="L198" title="All 2 branches missed.">            for (Locale l : locales) {</span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">                for (String f: dateFormats) {</span>
<span class="nc" id="L200">                    DateFormat sdf = new SimpleDateFormat(f,l);</span>
                    try {
<span class="nc" id="L202">                        return sdf.parse(s);</span>
<span class="nc" id="L203">                    } catch (Exception e2) {</span>
<span class="nc" id="L204">                        continue;</span>
                    }
                }
<span class="nc" id="L207">            }</span>
<span class="nc" id="L208">            return null;</span>
        }
    }

    public static boolean isObject(String s) {
        try {
<span class="nc" id="L214">            JsonElement je = new Gson().fromJson(s, JsonElement.class);</span>
<span class="nc" id="L215">            boolean isObject = false;</span>
<span class="nc bnc" id="L216" title="All 4 branches missed.">            if (je.isJsonArray() || je.isJsonObject())</span>
<span class="nc" id="L217">                isObject = true;</span>
<span class="nc" id="L218">            return isObject;</span>
<span class="nc" id="L219">        } catch (Exception e) {</span>
<span class="nc" id="L220">            return false;</span>
        }
    }

    public static AttributeType getAttributeType(String s) {
<span class="nc bnc" id="L225" title="All 2 branches missed.">        if (isDate(s))</span>
<span class="nc" id="L226">            return AttributeType.DATE;</span>
<span class="nc bnc" id="L227" title="All 2 branches missed.">        else if (isBoolean(s))</span>
<span class="nc" id="L228">            return AttributeType.BOOLEAN;</span>
<span class="nc bnc" id="L229" title="All 2 branches missed.">        else if (isInteger(s))</span>
<span class="nc" id="L230">            return AttributeType.INTEGER;</span>
<span class="nc bnc" id="L231" title="All 2 branches missed.">        else if (isNumber(s))</span>
<span class="nc" id="L232">            return AttributeType.NUMBER;</span>
<span class="nc bnc" id="L233" title="All 2 branches missed.">        else if (isObject(s))</span>
<span class="nc" id="L234">            return AttributeType.OBJECT;</span>
        else
<span class="nc" id="L236">            return AttributeType.STRING;</span>
    }

    public static boolean isValidString(String s) {
<span class="nc bnc" id="L240" title="All 4 branches missed.">        return s != null &amp;&amp; !s.equals(&quot;&quot;);</span>
    }

    public static String normalize(String s)
    {
<span class="nc" id="L245">        s = Normalizer.normalize(s, Normalizer.Form.NFD);</span>
<span class="nc" id="L246">        s = s.replaceAll(&quot;[\\p{InCombiningDiacriticalMarks}]&quot;, &quot;&quot;);</span>
<span class="nc" id="L247">        s = s.replaceAll(&quot;\\p{Punct}&quot;,&quot;&quot;);</span>
<span class="nc" id="L248">        return StringUtils.stripAccents(s);</span>
    }

    public static boolean isPrimitive(Object o) {
<span class="nc bnc" id="L252" title="All 2 branches missed.">        if (o == null)</span>
<span class="nc" id="L253">            return true;</span>
<span class="nc bnc" id="L254" title="All 4 branches missed.">        return ClassUtils.isPrimitiveOrWrapper(o.getClass()) || o instanceof String;</span>
    }

    public static boolean containsRegex(String text, String regex) {
<span class="nc" id="L258">        return text.matches(regex);</span>
    }

    public static boolean isValidURL(String url) {
<span class="nc" id="L262">        return new UrlValidator().isValid(url);</span>
    }

    public static String getLastFragmentURL(String url) {
<span class="nc" id="L266">        String [] urlParts = url.split(&quot;/&quot;);</span>
<span class="nc" id="L267">        return urlParts[urlParts.length-1];</span>
    }

    public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues(final Map&lt;K, V&gt; map) {
<span class="nc" id="L271">        Comparator&lt;K&gt; valueComparator =</span>
<span class="nc" id="L272">                new Comparator&lt;K&gt;() {</span>
                    public int compare(K k1, K k2) {
<span class="nc" id="L274">                        int compare = map.get(k2).compareTo(map.get(k1));</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">                        if (compare == 0)</span>
<span class="nc" id="L276">                            return 1;</span>
                        else
<span class="nc" id="L278">                            return compare;</span>
                    }
                };
<span class="nc" id="L281">        Map&lt;K, V&gt; sortedByValues =</span>
                new TreeMap&lt;&gt;(valueComparator);
<span class="nc" id="L283">        sortedByValues.putAll(map);</span>
<span class="nc" id="L284">        return sortedByValues;</span>
    }

    public static boolean checkIfFloat(String s) {
        try {
<span class="nc" id="L289">            String regex = &quot;^([+-]?\\d*\\.\\d+(e\\d+)?)$&quot;;</span>
<span class="nc" id="L290">            double d = Double.parseDouble(s);</span>
<span class="nc bnc" id="L291" title="All 6 branches missed.">            return s.matches(regex) &amp;&amp; d &gt;= Float.MIN_VALUE &amp;&amp; d &lt;= Float.MAX_VALUE;</span>
<span class="nc" id="L292">        } catch (Exception e) {</span>
<span class="nc" id="L293">            return false;</span>
        }
    }


    public static boolean checkIfDouble(String s) {
        try {
<span class="nc" id="L300">            String regex = &quot;^([+-]?\\d*\\.\\d+(e\\d+)?)$&quot;;</span>
<span class="nc" id="L301">            double d = Double.parseDouble(s);</span>
<span class="nc bnc" id="L302" title="All 6 branches missed.">            return s.matches(regex) &amp;&amp; d &gt;= Double.MIN_VALUE &amp;&amp; d &lt;= Double.MAX_VALUE;</span>
<span class="nc" id="L303">        } catch (Exception e) {</span>
<span class="nc" id="L304">            return false;</span>
        }
    }

    public static boolean checkIfInt(String s) {
        try {
<span class="nc" id="L310">            String regex = &quot;[+-]?[0-9]+&quot;;</span>
<span class="nc" id="L311">            double l = Long.parseLong(s);</span>
<span class="nc bnc" id="L312" title="All 6 branches missed.">            return s.matches(regex) &amp;&amp; l &gt;= Integer.MIN_VALUE &amp;&amp; l &lt;= Integer.MAX_VALUE;</span>
<span class="nc" id="L313">        } catch (Exception e) {</span>
<span class="nc" id="L314">            return false;</span>
        }
    }

    public static boolean checkIfLong(String s) {
        try {
<span class="nc" id="L320">            String regex = &quot;[+-]?[0-9]+&quot;;</span>
<span class="nc" id="L321">            double l = Long.parseLong(s);</span>
<span class="nc bnc" id="L322" title="All 6 branches missed.">            return s.matches(regex) &amp;&amp; l &gt;= Long.MIN_VALUE &amp;&amp; l &lt;= Long.MAX_VALUE;</span>
<span class="nc" id="L323">        } catch (Exception e) {</span>
<span class="nc" id="L324">            return false;</span>
        }
    }

    public static boolean checkIfBoolean(String s) {
<span class="nc" id="L329">        return isBoolean(s);</span>
    }

    public static boolean checkIfDate(String s) {
<span class="nc" id="L333">        return isDate(s);</span>
    }

    public static boolean checkIfString(Object o) {
        try {
<span class="nc" id="L338">            boolean isString = false;</span>
<span class="nc" id="L339">            String.valueOf(o);</span>
<span class="nc bnc" id="L340" title="All 2 branches missed.">            if (o instanceof String)</span>
<span class="nc" id="L341">                isString = true;</span>
<span class="nc" id="L342">            return isString;</span>
<span class="nc" id="L343">        } catch (Exception e) {</span>
<span class="nc" id="L344">            return false;</span>
        }
    }

        public static boolean checkIfComposeStringIsSame(String str1, String str2) {
<span class="nc" id="L349">        List&lt;String&gt; str1List = Arrays.asList(str1.split(&quot;(?=\\p{Upper})|-&quot;));</span>
<span class="nc" id="L350">        List&lt;String&gt; str2List = Arrays.asList(str2.split(&quot;(?=\\p{Upper})|-&quot;));</span>
<span class="nc bnc" id="L351" title="All 2 branches missed.">        str1List = str1List.stream().filter(Utils::isValidString).filter(s-&gt;!s.matches(&quot;j\\.[0-9]+:&quot;)).map(String::toLowerCase).collect(Collectors.toList());</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">        str2List = str2List.stream().filter(Utils::isValidString).filter(s-&gt;!s.matches(&quot;j\\.[0-9]+:&quot;)).map(String::toLowerCase).collect(Collectors.toList());</span>
<span class="nc bnc" id="L353" title="All 2 branches missed.">        for (String token : str1List) {</span>
<span class="nc bnc" id="L354" title="All 2 branches missed.">            if (!str2List.contains(token))</span>
<span class="nc" id="L355">                return false;</span>
<span class="nc" id="L356">        }</span>
<span class="nc" id="L357">        return true;</span>
    }

    public static String replaceSubstringByRegex(String str,String replace, JsonObject jContext, String regex) {
<span class="nc" id="L361">        Pattern pattern = Pattern.compile(regex);</span>
<span class="nc" id="L362">        Matcher matcher = pattern.matcher(str);</span>
<span class="nc bnc" id="L363" title="All 2 branches missed.">        if (matcher.find())</span>
        {
<span class="nc" id="L365">            String key = matcher.group(0);</span>
<span class="nc bnc" id="L366" title="All 2 branches missed.">            if (jContext.has(key)) {</span>
<span class="nc" id="L367">                return str.replace(key+replace,jContext.get(key).getAsString());</span>
            }
        }
<span class="nc" id="L370">        return str;</span>
    }

    public static Object parseToType(String val) {
<span class="nc bnc" id="L374" title="All 2 branches missed.">        if (isPrimitive(val)) {</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">            if (checkIfDate(val))</span>
<span class="nc" id="L376">                return getDate(val);</span>
<span class="nc bnc" id="L377" title="All 2 branches missed.">            else if(checkIfInt(val))</span>
<span class="nc" id="L378">                return Integer.valueOf(val);</span>
<span class="nc bnc" id="L379" title="All 2 branches missed.">            else if(checkIfLong(val))</span>
<span class="nc" id="L380">                return Long.valueOf(val);</span>
<span class="nc bnc" id="L381" title="All 2 branches missed.">            else if(checkIfFloat(val))</span>
<span class="nc" id="L382">                return Float.valueOf(val);</span>
<span class="nc bnc" id="L383" title="All 2 branches missed.">            else if(checkIfDouble(val))</span>
<span class="nc" id="L384">                return Float.valueOf(val);</span>
<span class="nc bnc" id="L385" title="All 2 branches missed.">            else if(checkIfBoolean(val))</span>
<span class="nc" id="L386">                return Boolean.valueOf(val);</span>
            else
<span class="nc" id="L388">                return String.valueOf(val);</span>
        } else
<span class="nc" id="L390">            return new Gson().fromJson(val, JsonObject.class);</span>
    }

}



</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>